<div class="container" id="problem">
    <div class="row">
        <div class="col-md-9">
            <div class="area-outer problem-body" v-bind:class="{ 'edit-mode': control.isInEditMode }">
                <div class="area-item">
                    <div class="area-title">Limitations</div>
                    <div>
                        <table class="limitation-table">
                            <tr>
                                <td>时间限制</td>
                                <td>内存限制</td>
                                <td>评测方式</td>
                                <td>题目来源</td>
                            </tr>
                            <tr>
                                <td>{{ timelimit }}ms</td>
                                <td>{{ memorylimit / 1024 }}KiB</td>
                                <td>{{ isSpecialJudge ? '特殊比较器' : '标准比较器' }}</td>
                                <td>{{ source }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="area-title" v-if="background">Background</div>
                    <div v-if="background">{{ background }}</div>
                    <div class="area-title" v-if="description">Description</div>
                    <div v-if="description">{{ description }}</div>
                    <div class="area-title" v-if="inputFormat">Input Format</div>
                    <div v-if="inputFormat">{{ inputFormat }}</div>
                    <div class="area-title" v-if="outputFormat">Output Format</div>
                    <div v-if="outputFormat">{{ outputFormat }}</div>
                    <div class="area-title" v-if="sampleData.length">Sample Data</div>
                    <div v-for="(data,index) in sampleData" v-bind:class="{ 'sample-data-outer': index > 0 }">
                        <table class="sample-data-table">
                            <thead>
                                <tr>
                                    <th>输入样例 #{{ index + 1 }}</th>
                                    <th>输出样例 #{{ index + 1 }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><pre>{{ data.input }}</pre></td>
                                    <td><pre>{{ data.output }}</pre></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="area-title" v-if="hint">Hint</div>
                    <div v-if="hint">{{ hint }}</div>
                </div>
            </div>
        </div>

        <div class="col-md-3 title-align">
            <div class="sidebar-section all-buttons">
                <a class="sidebar-section-button highlight" v-on:click="goToEditMode()">
                    <i class="fa fa-code"></i>
                    <span>进入编程模式</span>
                </a>
                <a class="sidebar-section-button">
                    <i class="fa fa-database"></i>
                    <span>查看测试数据</span>
                </a>
                <a class="sidebar-section-button">
                    <i class="fa fa-clock-o"></i>
                    <span>提交记录</span>
                </a>
                <hr class="sidebar-hr"></hr>
                <a class="sidebar-section-button">
                    <i class="fa fa-commenting-o"></i>
                    <span>跳转至讨论</span>
                </a>
                <a class="sidebar-section-button">
                    <i class="fa fa-check-circle-o"></i>
                    <span>跳转至题解</span>
                </a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-header">
                    <h1>评价题目</h1>
                </div>
                <div class="sidebar-section-body">
                    <table class="evaluate-table">
                        <tr>
                            <td><a><i class="fa fa-caret-left evaluate-down"></i></a></td>
                            <td>123</td>
                            <td><a><i class="fa fa-caret-right evaluate-up"></i></a></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div v-if="control.isInEditMode" class="problem-body-set-off"></div>
    <div class="code-editor-outer" v-bind:class="{ 'edit-mode': control.isInEditMode }">
        <div class="code-editor-header">
            <a 
               class="code-editor-button" 
               v-bind:class="{ 'active': control.editorActiveTag == 'code' }"
               v-on:click="changeEditorMode('code')"><i class="fa fa-code"></i> 代码编辑</a>
            <a 
               class="code-editor-button" 
               v-bind:class="{ 'active': control.editorActiveTag == 'data' }"
               v-on:click="changeEditorMode('data')"><i class="fa fa-database"></i> 自测数据{{ form.data.length ? ' (' + form.data.length + ')' : '' }}</a>
            <select class="code-editor-button" v-model="form.language">
                <option v-for="language in control.languages">{{ language }}</option>
            </select>
            <a class="code-editor-button float-right"><i class="fa fa-play"></i> {{ form.data.length ? '提交自测' : '提交评测' }}</a>
            <a class="code-editor-button float-right" v-on:click="backToViewMode()"><i class="fa fa-mail-reply"></i> 返回题目</a>
        </div>
        <pre id="code-editor" class="active">{{ form.code }}</pre>
        <div class="data-editor" v-bind:class="{ 'active': control.editorActiveTag == 'data' }">
            <div v-for="(data, index) in form.data">
                <div>
                    <div class="data-title">
                        <i class="fa fa-database"></i> 自测数据 #{{ index + 1 }} <a class="data-remove-button" v-on:click="removeData(index)"><i class="fa fa-minus-square"></i> 删除数据</a>
                    </div>
                    <table class="data-text-area-table">
                        <tr>
                            <td>
                                <textarea class="form-control data-text-area" v-model="form.data[index].input" placeholder="输入数据"></textarea>
                            </td>
                            <td>
                                <textarea class="form-control data-text-area" v-model="form.data[index].output" placeholder="预期输出"></textarea>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <a class="data-add-data-button" v-on:click="addData()"><i class="fa fa-plus-square"></i> 添加数据</a>
        </div>
    </div>

    <a v-if="control.isInEditMode"
       v-on:click="backToViewMode()"
       class="back-to-view-mode">
        <i class="fa fa-close"></i> 退出编程模式
    </a>

    <div class="split-line problem-edit-split-line" v-if="control.isInEditMode"></div>
</div>